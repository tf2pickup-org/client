<div class="list-group list-group-flush" *ngIf="players">
  <div class="team-header"
    [ngClass]="{
      'team-header-blu': team === 'blu',
      'team-header-red': team === 'red'
    }">
    {{ team === 'blu' && 'BLU' || 'RED' }}
  </div>

  <a *ngFor="let player of players"
    class="list-group-item list-group-item-action player-item pr-2"
    [class.list-group-item-warning]="player.status === 'waiting for substitute'"
    [routerLink]="['/player', player.id]">
    <div class="class-icon" [inlineSVG]="'/assets/tf2-classfont/' + player.gameClass + '.svg'"></div>
    {{ player.name }}
    <span *ngIf="player.classSkill" class="badge badge-secondary mx-2">{{ player.classSkill }}</span>
    <div class="flex-fill"></div>
    <app-player-connection-status *ngIf="showPlayerConnectionStatus"
      [connectionStatus]="player.connectionStatus"
      class="mx-1"></app-player-connection-status>

    <span *ngIf="player.status === 'waiting for substitute'"
      class="badge badge-warning">waiting for substitute</span>

    <ng-container *ngIf="showAdminActionButtons">
      <button type="button" class="btn btn-link btn-sm"
        [tooltip]="player.status === 'active' ? 'Request substitute' : 'Cancel substitute request'"
        (click)="emitRequestSubstituteToggle($event, player)">
        <span class="oi oi-transfer" *ngIf="player.status === 'active'"></span>
        <span class="oi oi-circle-x" *ngIf="player.status === 'waiting for substitute'"></span>
      </button>
    </ng-container>
  </a>
</div>
