<div *ngIf="game | async as _game"
  class="container py-3">
  <h1>
    Pickup #{{ _game.number }}
  </h1>

  <app-game-basic-info
    [launchedAt]="_game.launchedAt"
    [map]="_game.map"
    [gameServerName]="gameServerName | async"
    [state]="_game.state"
    [error]="_game.error"
    class="d-block mt-4"></app-game-basic-info>

  <app-game-summary *ngIf="_game.state === 'ended'"
    [logsUrl]="_game.logsUrl"
    [demoUrl]="_game.demoUrl"
    class="d-block mt-3"></app-game-summary>

  <div class="row mt-4">
    <div class="col team-blu">
      <app-game-team-header
        team="blu"
        [score]="scoreBlu | async"></app-game-team-header>
      <app-game-team-player-list
        [players]="playersBlu | async"
        [showPlayerConnectionStatus]="isRunning | async"
        [showAdminActionButtons]="(isAdmin | async) && (isRunning | async)"
        (requestSubstitute)="requestSubstitute($event)"
        (replacePlayer)="replacePlayer($event)"
        [locked]="isLocked | async"
        class="d-block mt-4"></app-game-team-player-list>
    </div>

    <div class="col team-red">
      <app-game-team-header
        team="red"
        [score]="scoreRed | async"></app-game-team-header>
      <app-game-team-player-list
        [players]="playersRed | async"
        [showPlayerConnectionStatus]="isRunning | async"
        [showAdminActionButtons]="(isAdmin | async) && (isRunning | async)"
        (requestSubstitute)="requestSubstitute($event)"
        (replacePlayer)="replacePlayer($event)"
        [locked]="isLocked | async"
        class="d-block mt-4"></app-game-team-player-list>
    </div>
  </div>
</div>
