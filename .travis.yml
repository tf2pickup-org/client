language: node_js
node_js:
 - node
dist: trusty
sudo: true
addons:
  chrome: stable

before_script:
 - npm install -g @angular/cli codecov

script:
 - npm run test:ci
 - npm run lint
 - ng build --prod

after_success:
 - codecov

deploy:
  provider: releases
  api_key: "5941ffa20846100280089444137976a32474a86e"
  file: "dist/tf2pickup/**/*"
  file_glob: true
  skip_cleanup: true
  on:
    tags: true
